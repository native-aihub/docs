---
title: "Upload Documents"
description: "Upload documents for extraction processing"
---

## Endpoint

```
POST /upload
```

Upload one or more documents to receive document IDs for extraction. Supports PDF, DOCX, DOC, JPG, and PNG formats.

## Authentication

<ParamField header="X-API-Key" type="string" required>
API key for authentication. Your unique API key.
</ParamField>

## Request Parameters

<ParamField body="files" type="file[]" required>
One or more document files to upload. Maximum 100 files per request.

Supported formats:
- `application/pdf` (.pdf)
- `application/msword` (.doc)
- `application/vnd.openxmlformats-officedocument.wordprocessingml.document` (.docx)
- `image/jpeg` (.jpg, .jpeg)
- `image/png` (.png)
</ParamField>

## Response

<ResponseField name="document_ids" type="string[]">
Array of UUID v4 document identifiers. Use these IDs for extraction requests.
</ResponseField>

## Examples

<CodeGroup>
```bash cURL
curl -X POST https://api.documind.com/api/v1/upload \
  -H 'X-API-Key: YOUR_API_KEY' \
  -F 'files=@invoice1.pdf' \
  -F 'files=@invoice2.pdf' \
  -F 'files=@receipt.jpg'
```

```python Python
import requests

API_KEY = "your_api_key_here"
headers = {"X-API-Key": API_KEY}

# Upload single file
with open("invoice.pdf", "rb") as f:
    files = {"files": f}
    response = requests.post(
        "https://api.documind.com/api/v1/upload",
        headers=headers,
        files=files
    )

document_ids = response.json()
print(f"Uploaded document ID: {document_ids[0]}")

# Upload multiple files
files_to_upload = [
    ("files", open("doc1.pdf", "rb")),
    ("files", open("doc2.pdf", "rb")),
    ("files", open("doc3.jpg", "rb"))
]

response = requests.post(
    "https://api.documind.com/api/v1/upload",
    headers=headers,
    files=files_to_upload
)

# Close file handles
for _, file_handle in files_to_upload:
    file_handle.close()

document_ids = response.json()
print(f"Uploaded {len(document_ids)} documents")
```

```javascript Node.js
const fs = require('fs');
const FormData = require('form-data');

// Upload single file
const formData = new FormData();
formData.append('files', fs.createReadStream('invoice.pdf'));

const response = await fetch('https://api.documind.com/api/v1/upload', {
  method: 'POST',
  headers: {
    'X-API-Key': process.env.API_KEY,
    ...formData.getHeaders()
  },
  body: formData
});

const documentIds = await response.json();
console.log(`Uploaded document ID: ${documentIds[0]}`);

// Upload multiple files
const multiForm = new FormData();
multiForm.append('files', fs.createReadStream('doc1.pdf'));
multiForm.append('files', fs.createReadStream('doc2.pdf'));
multiForm.append('files', fs.createReadStream('doc3.jpg'));

const multiResponse = await fetch('https://api.documind.com/api/v1/upload', {
  method: 'POST',
  headers: {
    'X-API-Key': process.env.API_KEY,
    ...multiForm.getHeaders()
  },
  body: multiForm
});

const multiDocIds = await multiResponse.json();
console.log(`Uploaded ${multiDocIds.length} documents`);
```
</CodeGroup>

<ResponseExample>
```json Success Response (Single File)
[
  "550e8400-e29b-41d4-a716-446655440000"
]
```

```json Success Response (Multiple Files)
[
  "550e8400-e29b-41d4-a716-446655440000",
  "6ba7b810-9dad-11d1-80b4-00c04fd430c8",
  "7c9e6679-7425-40de-944b-e07fc1f90ae7"
]
```
</ResponseExample>

## File Size & Limits

<Note>
- **Maximum file size**: 50 MB per file
- **Maximum files per request**: 100 files
- **Total request size**: 500 MB

For larger batches, split into multiple upload requests.
</Note>

## Storage Duration

Uploaded documents are stored for **30 days** after upload. After this period, documents are automatically deleted. Extraction results remain accessible indefinitely.

<Tip>
Download original documents via `/documents/{document_id}/download` if you need to archive them beyond 30 days.
</Tip>

## Processing Time

Document upload is typically completed within:
- **Single page PDF**: < 1 second
- **10-page PDF**: 2-3 seconds  
- **Large image (10MB)**: 3-5 seconds

The API returns document IDs immediately after upload, before any processing begins.

## Error Responses

### 400 Bad Request

Invalid file format or size:

```json
{
  "detail": "File format not supported. Supported formats: PDF, DOCX, DOC, JPG, PNG"
}
```

**Common causes**:
- Unsupported file format (e.g., .txt, .xls)
- Corrupt or invalid file
- File size exceeds 50 MB

### 402 Payment Required

Insufficient credits:

```json
{
  "detail": "Insufficient credits. Please upgrade your plan or wait for your daily credits to refresh."
}
```

**Solution**: Check your credit balance via `/usage/credits` and upgrade if needed.

### 413 Payload Too Large

Request exceeds size limits:

```json
{
  "detail": "Request payload too large. Maximum total size: 500MB"
}
```

**Solution**: Split your batch into smaller requests.

### 500 Internal Server Error

Server-side processing error:

```json
{
  "detail": "Failed to upload documents. Please try again later."
}
```

**Solution**: Retry the request. If the error persists, contact support.

## Best Practices

<AccordionGroup>
<Accordion title="Batch Upload for Efficiency">
  Upload multiple documents in a single request to reduce API calls:
  
  ```python
  # ✓ Good: Batch upload
  files = [("files", open(f, "rb")) for f in file_paths]
  response = requests.post(url, headers=headers, files=files)
  
  # ✗ Avoid: Multiple single uploads
  for file_path in file_paths:
      response = requests.post(url, headers=headers, 
                             files={"files": open(file_path, "rb")})
  ```
</Accordion>

<Accordion title="Handle File Handles Properly">
  Always close file handles after upload:
  
  ```python
  # Using context manager (recommended)
  with open("document.pdf", "rb") as f:
      response = requests.post(url, files={"files": f})
  
  # Or explicitly close
  files = [("files", open(f, "rb")) for f in file_paths]
  try:
      response = requests.post(url, files=files)
  finally:
      for _, fh in files:
          fh.close()
  ```
</Accordion>

<Accordion title="Validate Files Before Upload">
  Check file format and size before uploading:
  
  ```python
  import os
  
  MAX_SIZE = 50 * 1024 * 1024  # 50 MB
  SUPPORTED = {'.pdf', '.docx', '.doc', '.jpg', '.jpeg', '.png'}
  
  def validate_file(file_path):
      ext = os.path.splitext(file_path)[1].lower()
      size = os.path.getsize(file_path)
      
      if ext not in SUPPORTED:
          raise ValueError(f"Unsupported format: {ext}")
      if size > MAX_SIZE:
          raise ValueError(f"File too large: {size/1024/1024:.1f}MB")
      
      return True
  
  # Validate before upload
  valid_files = [f for f in file_paths if validate_file(f)]
  ```
</Accordion>

<Accordion title="Store Document IDs">
  Map document IDs to original filenames for tracking:
  
  ```python
  # Create mapping
  filename_to_id = {}
  
  for file_path in file_paths:
      with open(file_path, "rb") as f:
          response = requests.post(url, files={"files": f})
          doc_id = response.json()[0]
          filename_to_id[os.path.basename(file_path)] = doc_id
  
  # Save mapping for later reference
  import json
  with open("document_mapping.json", "w") as f:
      json.dump(filename_to_id, f, indent=2)
  ```
</Accordion>
</AccordionGroup>

## Next Steps

After uploading documents, you can:

<CardGroup cols={2}>
<Card title="Generate Schema" icon="table" href="/api/extraction/generate-schema">
  Auto-generate extraction schema from a sample document
</Card>

<Card title="Extract Data" icon="file-export" href="/api/extraction/extract-data">
  Extract structured data using a schema
</Card>

<Card title="List Documents" icon="list" href="/api/documents/manage-documents">
  View and manage uploaded documents
</Card>
</CardGroup>

